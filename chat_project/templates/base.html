{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>
    <header>
        <img src="{% static 'imgs/flower1.jpeg' %}" alt="">
        <form>
            <a href="">
                <button>
                    Logout
                </button>
            </a>
        </form>
    </header>
    <div class="main-cont">
        {% block content %}
        {% endblock %}
    </div>
    <footer>
        <a class="anchor" href="{% url 'theme' %}" data-url="{% url 'theme' %}">
            <?xml version="1.0" standalone="no"?>
            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
            "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
            width="225.000000pt" height="225.000000pt" viewBox="0 0 225.000000 225.000000"
            preserveAspectRatio="xMidYMid meet">

            <g transform="translate(0.000000,225.000000) scale(0.100000,-0.100000)"
            fill="#fff" stroke="none">
            <path d="M2023 2231 c-52 -24 -62 -39 -135 -213 -33 -79 -66 -158 -74 -177
            -13 -32 -15 -33 -32 -18 -52 48 -43 47 -847 47 -826 0 -795 2 -858 -58 -16
            -15 -39 -45 -50 -67 -22 -40 -22 -43 -25 -784 -3 -841 -5 -816 69 -890 73 -73
            50 -71 868 -71 456 0 739 4 762 10 52 15 99 49 134 99 l30 43 3 551 3 551 184
            390 c102 214 188 406 191 426 8 48 -23 119 -64 148 -44 32 -108 37 -159 13z
            m112 -96 c14 -13 25 -31 25 -40 0 -14 -453 -981 -465 -993 -6 -6 -64 18 -70
            29 -9 13 405 992 427 1012 28 24 55 21 83 -8z m-405 -391 l31 -31 -83 -198
            -83 -199 -3 124 c-1 70 -7 129 -14 137 -8 10 -133 13 -644 13 -616 0 -634 -1
            -644 -19 -13 -26 -13 -396 0 -422 10 -18 28 -19 615 -19 333 0 605 -3 605 -7
            0 -4 -7 -27 -16 -50 l-17 -43 -208 0 c-175 0 -210 -2 -223 -16 -14 -13 -16
            -55 -16 -309 l0 -294 -45 -31 c-54 -37 -57 -60 -13 -101 113 -103 378 -97 501
            11 78 69 124 196 107 292 -7 38 -1 56 94 256 l101 215 3 -428 c2 -472 4 -460
            -61 -509 -28 -21 -34 -21 -763 -24 -714 -2 -737 -2 -780 17 -35 16 -49 30 -64
            63 -19 41 -20 71 -20 768 0 809 -3 769 69 817 l35 23 753 -2 753 -3 30 -31z
            m-230 -384 l0 -140 -565 0 -565 0 0 140 0 140 565 0 565 0 0 -140z m150 -351
            c0 -4 -31 -73 -70 -154 l-69 -146 -26 17 c-14 9 -25 19 -25 23 0 3 27 72 61
            153 l61 147 34 -17 c19 -8 34 -19 34 -23z m-221 -81 c0 -7 -15 -47 -32 -88
            -32 -73 -33 -75 -76 -82 -61 -10 -125 -51 -162 -103 -18 -25 -34 -45 -36 -45
            -2 0 -3 74 -3 165 l0 165 155 0 c118 0 155 -3 154 -12z m4 -277 c60 -39 74
            -88 51 -171 -30 -106 -95 -160 -219 -180 -63 -10 -157 -2 -186 16 -6 3 10 27
            34 53 24 26 51 69 61 96 39 109 61 149 100 177 47 34 115 38 159 9z"/>
            <path d="M296 1014 c-14 -13 -16 -60 -16 -359 l0 -344 22 -15 c19 -13 61 -16
            261 -16 145 0 246 4 258 10 18 10 19 25 19 363 0 261 -3 356 -12 365 -9 9 -81
            12 -264 12 -216 0 -255 -2 -268 -16z m454 -359 l0 -285 -187 2 -188 3 -3 283
            -2 282 190 0 190 0 0 -285z"/>
            </g>
            </svg>

        </a>
        <a class="anchor active" href="{% url 'land' %}" data-url="{% url 'land' %}">
            <?xml version="1.0" standalone="no"?>
            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
            "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
            width="225.000000pt" height="225.000000pt" viewBox="0 0 225.000000 225.000000"
            preserveAspectRatio="xMidYMid meet">

            <g transform="translate(0.000000,225.000000) scale(0.100000,-0.100000)"
            fill="#fff" stroke="none">
            <path d="M1094 2187 c-18 -11 -996 -880 -1066 -949 -33 -31 -36 -60 -8 -88 36
            -36 60 -25 167 70 56 50 104 90 107 90 3 0 6 -257 6 -571 0 -402 3 -577 11
            -592 44 -85 97 -100 339 -95 197 3 226 12 261 78 17 32 19 61 19 335 0 221 3
            304 12 313 17 17 349 17 366 0 9 -9 12 -92 12 -313 0 -345 2 -352 80 -393 41
            -20 57 -22 220 -22 188 0 229 7 268 42 59 56 57 33 62 651 l5 568 90 -81 c114
            -103 129 -113 155 -105 28 9 53 50 46 73 -5 15 -615 569 -1050 953 -49 43 -74
            52 -102 36z m388 -453 l347 -309 1 -605 c0 -532 -2 -608 -16 -628 -15 -21 -21
            -22 -182 -22 -92 0 -172 4 -179 8 -9 6 -13 89 -15 319 -3 297 -4 313 -24 339
            -50 68 -54 69 -287 69 -242 0 -261 -5 -297 -80 -19 -38 -20 -63 -20 -342 0
            -265 -2 -302 -16 -307 -31 -12 -349 -7 -362 6 -9 9 -12 162 -12 629 l0 617
            348 311 c191 171 352 309 357 308 6 -2 166 -143 357 -313z"/>
            </g>
            </svg>

        </a>
        <a class="anchor" href="{% url 'grp' %}" data-url="{% url 'grp' %}">
            <?xml version="1.0" standalone="no"?>
            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
            "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
            width="251.000000pt" height="165.000000pt" viewBox="0 0 251.000000 165.000000"
            preserveAspectRatio="xMidYMid meet">

            <g transform="translate(0.000000,165.000000) scale(0.100000,-0.100000)"
            fill="#fff" stroke="#fff">
            <path d="M1180 1278 c-63 -32 -90 -77 -90 -148 0 -63 22 -106 73 -144 40 -30
            144 -30 183 0 82 61 102 167 47 243 -24 33 -98 71 -138 71 -17 0 -51 -10 -75
            -22z"/>
            <path d="M895 1063 c-33 -8 -74 -54 -81 -90 -13 -68 39 -133 105 -133 134 0
            164 172 38 219 -30 12 -30 12 -62 4z"/>
            <path d="M1562 1059 c-131 -28 -112 -219 22 -219 48 0 80 19 101 60 22 43 19
            84 -10 118 -31 37 -69 51 -113 41z"/>
            <path d="M640 900 c-47 -47 1 -142 63 -126 88 22 83 136 -6 144 -26 2 -42 -3
            -57 -18z"/>
            <path d="M1777 909 c-46 -27 -41 -105 9 -128 35 -16 48 -14 78 10 51 40 23
            129 -41 129 -16 0 -36 -5 -46 -11z"/>
            <path d="M1193 901 c-49 -13 -120 -58 -147 -94 -54 -70 -56 -86 -56 -377 l0
            -270 265 0 265 0 0 273 0 273 -26 52 c-54 109 -187 172 -301 143z"/>
            <path d="M866 775 c-51 -18 -101 -67 -115 -114 -6 -23 -11 -112 -11 -215 l0
            -176 100 0 100 0 0 213 c1 156 5 222 15 252 11 30 11 41 2 47 -17 11 -47 9
            -91 -7z"/>
            <path d="M1552 782 c-10 -7 -9 -17 3 -51 12 -34 15 -91 15 -252 l0 -209 100 0
            100 0 0 183 c0 197 -9 236 -61 284 -46 42 -125 64 -157 45z"/>
            <path d="M628 704 c-46 -24 -53 -49 -58 -202 l-5 -142 63 0 62 0 0 128 c0 85
            5 145 15 178 8 27 15 50 15 52 0 9 -70 -1 -92 -14z"/>
            <path d="M1795 703 c19 -45 25 -98 25 -215 l0 -128 60 0 60 0 0 135 c0 151 -9
            184 -60 210 -16 8 -43 15 -61 15 -26 0 -30 -3 -24 -17z"/>
            </g>
            </svg>

        </a>
    </footer>
    <script>
        btns = document.querySelectorAll('.anchor');
        container = document.querySelector('.main-cont');
        btns.forEach(btn => {
            btn.addEventListener('click', function(event){
                event.preventDefault();
                let url = this.getAttribute('data-url');

                fetch(url)
                    .then(response => response.text())
                    .then(html => {
                        let tempDiv = document.createElement('div');
                        tempDiv.innerHTML = html;
                        newContent = tempDiv.querySelector('.main-cont');
                        if (newContent) {
                            container.innerHTML = newContent.innerHTML;
                            truncateSummaries();
                        }
                        else{
                            console.log('no content found');
                        };
                        btns.forEach(a => a.classList.remove('active'));
                        this.classList.add('active');
                    })
                    .catch(err => console.log('Error loading page : ', err));
            });
        });
    </script>
    <script>
        function truncateSummaries() {
            let msgSummaries = document.querySelectorAll(".p-sum");
            msgSummaries.forEach(function(msgSummary){
                let fullText = msgSummary.textContent;
                let words = fullText.split(/\s+/).filter(word => word.trim().length > 0);
                if (words.length > 10) {
                    let firstTen = words.slice(0, 10).join(" ");
                    msgSummary.textContent = firstTen + '...';
                }
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            truncateSummaries();
        });

    </script>
</body>
</html>